"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7265],{7265:(G,f,r)=>{r.r(f),r.d(f,{LoginPageModule:()=>B});var d=r(6895),s=r(4719),e=r(5274),h=r(1710),c=r(5861),Z=r(4464),n=r(6738),C=r(5596),y=r(7556),v=r(5083),b=r(4390);const T=function(){return{width:"70%",height:"70%","font-weight":"800"}};let M=(()=>{class t{constructor(o,i,l,g,u,p){this.modalCtrl=o,this.overlay=i,this.toastCtrl=l,this.auth=g,this.router=u,this.avatar=p,this.isLoading=!1,this.config={length:6,allowNumbersOnly:!0}}ngOnInit(){console.log(this.phone)}onOtpChange(o){this.otp=o,console.log(this.otp)}closeModal(){this.modalCtrl.dismiss()}resend(){var o=this;return(0,c.Z)(function*(){try{const i=yield o.auth.signInWithPhoneNumber(o.countryCode+o.phone);console.log(i)}catch(i){console.log(i)}})()}verifyOtp(){var o=this;return(0,c.Z)(function*(){try{o.overlay.showLoader("");const i=yield o.auth.verifyOtp(o.otp);o.modalCtrl.dismiss(i)}catch(i){console.log(i)}})()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(e.IN),n.Y36(C.F),n.Y36(e.yF),n.Y36(y.e),n.Y36(h.F0),n.Y36(v.o))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-otp"]],inputs:{phone:"phone",countryCode:"countryCode"},decls:22,vars:5,consts:[[1,"ion-no-border",3,"translucent"],["slot","start"],["color","primary",3,"click"],["slot","icon-only","name","close"],[1,"ion-no-border"],["lines","none"],["align","center"],["lines","none",1,"ion-margin"],["align","center",1,"ion-padding-top","ion-padding-bottom"],[3,"ngStyle","config","onInputChange"],["lines","none",1,"ion-margin","ion-padding-top"],["shape","round","size","large","expand","block","color","primary","slot","start",3,"click"],["shape","round","size","large","expand","block","slot","end","color","primary",3,"disabled","click"]],template:function(o,i){1&o&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),n.NdJ("click",function(){return i.closeModal()}),n._UZ(4,"ion-icon",3),n.qZA()(),n.TgZ(5,"ion-title"),n._uU(6," Back "),n.qZA()()(),n.TgZ(7,"ion-content",4)(8,"ion-list",5)(9,"ion-list-header")(10,"ion-label",6)(11,"h1"),n._uU(12,"Enter Verification Code"),n.qZA()()(),n.TgZ(13,"ion-item",7)(14,"ion-label")(15,"div",8)(16,"ng-otp-input",9),n.NdJ("onInputChange",function(g){return i.onOtpChange(g)}),n.qZA()()()(),n.TgZ(17,"ion-item",10)(18,"ion-button",11),n.NdJ("click",function(){return i.resend()}),n._uU(19," RESEND OTP "),n.qZA(),n.TgZ(20,"ion-button",12),n.NdJ("click",function(){return i.verifyOtp()}),n._uU(21," Continue "),n.qZA()()()()),2&o&&(n.Q6J("translucent",!0),n.xp6(16),n.Q6J("ngStyle",n.DdM(4,T))("config",i.config),n.xp6(4),n.Q6J("disabled",!i.otp))},dependencies:[d.PC,b.df,e.YG,e.Sm,e.W2,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.yh,e.sr,e.wd]}),t})();var x=r(2340);const I=(0,r(7423).fo)("GoogleAuth",{web:()=>r.e(7733).then(r.bind(r,7733)).then(t=>new t.GoogleAuthWeb)});var _=r(2263),J=r(7321),L=r(7323);function N(t,a){if(1&t&&(n.TgZ(0,"ion-select-option",22),n._uU(1),n.qZA()),2&t){const o=a.$implicit;n.Q6J("value",o.dialCode),n.xp6(1),n.AsE(" ",o.dialCode," ",o.name," ")}}function Y(t,a){1&t&&(n.TgZ(0,"ion-text",25),n._uU(1," * Please enter the Mobile Number "),n.qZA())}function w(t,a){1&t&&(n.TgZ(0,"ion-text",25),n._uU(1," * Please enter a valid Mobile Number "),n.qZA())}function U(t,a){if(1&t&&(n.TgZ(0,"ion-text",23),n.YNc(1,Y,2,0,"ion-text",24),n.YNc(2,w,2,0,"ion-text",24),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.form.get("phone").hasError("required")),n.xp6(1),n.Q6J("ngIf",o.form.get("phone").hasError("minlength")&&!o.form.get("phone").hasError("required"))}}function Q(t,a){1&t&&(n.TgZ(0,"ion-label"),n._uU(1,"Continue"),n.qZA())}function F(t,a){1&t&&n._UZ(0,"ion-icon",26)}function z(t,a){1&t&&n._UZ(0,"ion-progress-bar",27)}const S=[{path:"",component:(()=>{class t{constructor(o,i,l,g,u,p,m){this.modalCtrl=o,this.auth=i,this.router=l,this.nav=g,this.authY=u,this.avatar=p,this.overlay=m,this.CountryJson=x.N.CountryJson,this.flag="https://cdn.kcak11.com/CountryFlags/countries/ng.svg",this.slideOpts={initialSlide:0,speed:300,autoplay:!0},(0,Z.n$)("capacitor")||I.initialize(),this.CountryCode="+234",this.numberT="+234"}HideSplash(){return(0,c.Z)(function*(){yield J.c.hide()})()}ngOnInit(){var o=this;return(0,c.Z)(function*(){o.form=new s.cw({phone:new s.NI(null,{validators:[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10)]})})})()}countryCodeChange(o){console.log(o.detail.value.toString()),this.CountryCode="",this.numberT=o.detail.value.toString()}Show(){return(0,c.Z)(function*(){yield _.A_.setOverlaysWebView({overlay:!1})})()}Hide(){return(0,c.Z)(function*(){yield _.A_.setOverlaysWebView({overlay:!0})})()}signIn(){var o=this;return(0,c.Z)(function*(){try{if(!o.form.valid)return void o.form.markAllAsTouched();console.log(o.form.value),o.approve2=!0,yield o.auth.signInWithPhoneNumber(o.numberT+o.form.value.phone),o.approve2=!1;const g=o.modalCtrl.create({component:M,componentProps:{phone:o.form.value.phone,countryCode:o.numberT},swipeToClose:!0});(yield g).present();const u=(yield g).onWillDismiss();o.authY.onAuthStateChanged(function(){var p=(0,c.Z)(function*(m){o.avatar.getUserProfile(m).subscribe(function(){var P=(0,c.Z)(function*(O){O?(o.router.navigateByUrl("tabs"),o.overlay.hideLoader()):(o.router.navigateByUrl("details"),o.overlay.hideLoader())});return function(O){return P.apply(this,arguments)}}())});return function(m){return p.apply(this,arguments)}}()),console.log(u)}catch(i){console.log(i),o.overlay.showAlert("Error",JSON.stringify(i)),o.approve2=!1}})()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(e.IN),n.Y36(y.e),n.Y36(h.F0),n.Y36(e.SH),n.Y36(L.gx),n.Y36(v.o),n.Y36(C.F))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:32,vars:10,consts:[[1,"ion-no-border",3,"translucent"],["lines","none"],[1,"ion-padding"],["color","primary",1,"ion-text-center"],["pager","true",3,"options"],["src","../assets/imgs/main.svg"],["src","../assets/imgs/main1.svg"],["src","../assets/imgs/main2.svg"],[1,"ion-no-border"],[1,"ion-no-padding"],[1,"ion-margin-horizontal"],[1,"ion-padding",3,"formGroup"],["id","sign-in-button"],[1,"ion-margin-vertical"],["slot","start","interface","action-sheet",3,"placeholder","ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","phone","placeholder","Mobile Number","type","tel","clearInput","","minlength","10","maxlength","10",3,"ionFocus","ionBlur"],["class","ion-text-center",4,"ngIf"],["shape","round","size","large","type","submit","color","primary","expand","block",3,"disabled","click"],[4,"ngIf"],["color","light","slot","end","name","arrow-forward",4,"ngIf"],["color","light","type","indeterminate",4,"ngIf"],[3,"value"],[1,"ion-text-center"],["class","error","color","danger",4,"ngIf"],["color","danger",1,"error"],["color","light","slot","end","name","arrow-forward"],["color","light","type","indeterminate"]],template:function(o,i){1&o&&(n.TgZ(0,"ion-header",0)(1,"ion-list",1)(2,"ion-list-header",2)(3,"ion-label",3)(4,"h1"),n._uU(5,"PANA DRIVER"),n.qZA(),n.TgZ(6,"p"),n._uU(7,"Drive and earn With Confidence and integrity"),n.qZA()()(),n.TgZ(8,"ion-slides",4)(9,"ion-slide"),n._UZ(10,"ion-img",5),n.qZA(),n.TgZ(11,"ion-slide"),n._UZ(12,"ion-img",6),n.qZA(),n.TgZ(13,"ion-slide"),n._UZ(14,"ion-img",7),n.qZA()()()(),n._UZ(15,"ion-content",8),n.TgZ(16,"ion-footer",8)(17,"ion-row",9)(18,"ion-list",9)(19,"ion-item-group",10)(20,"form",11),n._UZ(21,"div",12),n.TgZ(22,"div",13)(23,"ion-item")(24,"ion-select",14),n.NdJ("ionChange",function(g){return i.countryCodeChange(g)}),n.YNc(25,N,2,3,"ion-select-option",15),n.qZA(),n.TgZ(26,"ion-input",16),n.NdJ("ionFocus",function(){return i.Show()})("ionBlur",function(){return i.Hide()}),n.qZA()(),n.YNc(27,U,3,2,"ion-text",17),n.qZA(),n.TgZ(28,"ion-button",18),n.NdJ("click",function(){return i.signIn()}),n.YNc(29,Q,2,0,"ion-label",19),n.YNc(30,F,1,0,"ion-icon",20),n.YNc(31,z,1,0,"ion-progress-bar",21),n.qZA()()()()()()),2&o&&(n.Q6J("translucent",!0),n.xp6(8),n.Q6J("options",i.slideOpts),n.xp6(12),n.Q6J("formGroup",i.form),n.xp6(4),n.s9C("placeholder",i.CountryCode),n.xp6(1),n.Q6J("ngForOf",i.CountryJson),n.xp6(2),n.Q6J("ngIf",!i.form.get("phone").valid&&i.form.get("phone").touched),n.xp6(1),n.Q6J("disabled",!i.form.get("phone").valid),n.xp6(1),n.Q6J("ngIf",!i.approve2),n.xp6(1),n.Q6J("ngIf",!i.approve2),n.xp6(1),n.Q6J("ngIf",i.approve2))},dependencies:[d.sg,d.O5,s._Y,s.JJ,s.JL,s.wO,s.nD,e.YG,e.W2,e.fr,e.Gu,e.gu,e.Xz,e.pK,e.Ie,e.Ub,e.Q$,e.q_,e.yh,e.X7,e.Nd,e.t9,e.n0,e.A$,e.Hr,e.yW,e.QI,e.j9,s.sg,s.u],styles:["@keyframes slide-left{0%{transform:translate(0)}to{transform:translate(-100px)}}@keyframes slide-right{0%{transform:translate(0)}to{transform:translate(100px)}}.slide-left[_ngcontent-%COMP%]{animation:slide-left .5s cubic-bezier(.25,.46,.45,.94) both}.slide-right[_ngcontent-%COMP%]{animation:slide-right .5s cubic-bezier(.25,.46,.45,.94) both}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{background:transparent;display:block}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin-right:2.5vh}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.8rem}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1.3rem}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:.75em!important}ion-toolbar[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{height:44px}ion-img[_ngcontent-%COMP%]{margin:auto;width:auto}ion-slides[_ngcontent-%COMP%]{height:440px}ion-select[_ngcontent-%COMP%]{color:var(--ion-color-primary);--placeholder-opacity: 1;width:30%;justify-content:center;font-size:24px;font-weight:500}.pm-awesome-divider[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:20px}.shadow-top[_ngcontent-%COMP%]{box-shadow:0 -1.5px 1.5px #c4c4c46a}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[h.Bz.forChild(S),h.Bz]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.ez,s.u5,e.Pc,k,s.UX]}),t})()}}]);