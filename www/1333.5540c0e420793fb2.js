"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1333],{1333:(b,f,r)=>{r.r(f),r.d(f,{DetailsPageModule:()=>J});var m=r(6895),i=r(4719),o=r(5274),u=r(1710),g=r(5861),h=r(6090),c=r(6388),e=r(6738),d=r(5596),v=r(7323),y=r(7556),I=r(5083);function Z(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",22),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function P(n,l){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw();e.Q6J("src",t.profileImage,e.LSH)}}function _(n,l){1&n&&(e.TgZ(0,"div",24)(1,"p"),e._uU(2,"Profile Picture"),e.qZA()())}function x(n,l){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw();e.Q6J("src",t.licenseImage,e.LSH)}}function C(n,l){1&n&&(e.TgZ(0,"div",24)(1,"p"),e._uU(2,"License"),e.qZA()())}function T(n,l){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Continue"),e.qZA())}function U(n,l){1&n&&e._UZ(0,"ion-icon",25)}function D(n,l){1&n&&e._UZ(0,"ion-progress-bar",26)}const N=[{path:"",component:(()=>{class n{constructor(t,a,s,p,k){this.overlay=t,this.authy=a,this.auth=s,this.avatar=p,this.router=k,this.selected="Select Car Type"}ngOnInit(){this.avatar.getCartypes().subscribe(t=>{console.log(t),this.cartypes=t}),this.form=new i.cw({fullname:new i.NI(null,{validators:[i.kI.required,i.kI.minLength(1),i.kI.maxLength(200)]}),lastname:new i.NI(null,{validators:[i.kI.required,i.kI.minLength(1),i.kI.maxLength(200)]}),email:new i.NI(null,{validators:[i.kI.required,i.kI.minLength(1),i.kI.maxLength(200)]}),car:new i.NI(null,{validators:[i.kI.required,i.kI.minLength(1),i.kI.maxLength(200)]}),plate:new i.NI(null,{validators:[i.kI.required,i.kI.minLength(1),i.kI.maxLength(200)]})})}chooseCarType(t){var a=this;return(0,g.Z)(function*(){console.log(t.detail.value),a.currentcar=t.detail.value.name})()}changeImage(){var t=this;return(0,g.Z)(function*(){try{const a=yield c.V1.getPhoto({quality:20,allowEditing:!1,resultType:c.dk.DataUrl,source:c.oK.Camera});t.imageURl=a.dataUrl,t.profileImage=a.dataUrl}catch(a){t.overlay.showAlert("Error",a)}})()}changeLicense(){var t=this;return(0,g.Z)(function*(){try{const a=yield c.V1.getPhoto({quality:20,allowEditing:!1,resultType:c.dk.DataUrl,source:c.oK.Camera});t.licenseURl=a.dataUrl,t.licenseImage=a.dataUrl}catch(a){t.overlay.showAlert("Error",a)}})()}signIn(){var t=this;return(0,g.Z)(function*(){try{yield h.b.checkPermissions();const a=yield h.b.getCurrentPosition();t.approve2=!0,t.profileImage&&t.licenseImage&&t.currentcar&&t.form.value.fullname&&t.form.value.lastname&&t.form.value.email&&t.form.value.car&&t.form.value.plate&&t.imageURl&&t.licenseURl?(yield t.avatar.CreateNewDriver(a,t.form.value.fullname+""+t.form.value.lastname,t.form.value.email,t.authy.currentUser.phoneNumber,t.form.value.car,t.currentcar,t.form.value.plate,t.imageURl,t.licenseURl),yield t.avatar.createCard("Cash",0,"cash","None"),t.approve2=!1,t.router.navigateByUrl("tabs")):t.overlay.showAlert("Incomplete","Complete the form")}catch(a){t.overlay.showAlert("Error",a)}})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F),e.Y36(v.gx),e.Y36(y.e),e.Y36(I.o),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-details"]],decls:47,vars:12,consts:[[1,"ion-padding"],[3,"formGroup"],["color","primary",1,"ion-text-center"],[1,"ion-margin"],["formControlName","fullname","placeholder","First Name","type","text","minlength","1","maxlength","200"],["formControlName","lastname","placeholder","Last Name","type","text","minlength","1","maxlength","200"],["formControlName","email","placeholder","Your Email","type","text","minlength","1","maxlength","200"],[1,"ion-padding-top"],["formControlName","car","placeholder","Car Name","type","text","minlength","1","maxlength","200"],[3,"placeholder","value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","plate","placeholder","Car Plate Number","type","text","minlength","1","maxlength","200"],["lines","none"],["slot","start",1,"preview"],[3,"click"],[3,"src",4,"ngIf","ngIfElse"],["placeholder_avatar",""],["slot","end",1,"preview"],["shape","round","size","large","type","submit","color","primary","expand","block",3,"disabled","click"],[4,"ngIf"],["color","light","slot","end","name","arrow-forward",4,"ngIf"],["color","light","type","indeterminate",4,"ngIf"],[3,"value"],[3,"src"],[1,"fallback"],["color","light","slot","end","name","arrow-forward"],["color","light","type","indeterminate"]],template:function(t,a){if(1&t&&(e.TgZ(0,"ion-content")(1,"ion-list",0)(2,"ion-item-group")(3,"form",1)(4,"div")(5,"ion-list-header")(6,"ion-label",2)(7,"h1"),e._uU(8,"Personal Information"),e.qZA()()(),e.TgZ(9,"ion-item",3),e._UZ(10,"ion-input",4),e.qZA(),e.TgZ(11,"ion-item",3),e._UZ(12,"ion-input",5),e.qZA(),e.TgZ(13,"ion-item",3),e._UZ(14,"ion-input",6),e.qZA()(),e.TgZ(15,"div")(16,"ion-list-header",7)(17,"ion-label",2)(18,"h1"),e._uU(19,"Car Information"),e.qZA()()(),e.TgZ(20,"ion-item",3),e._UZ(21,"ion-input",8),e.qZA(),e.TgZ(22,"ion-item",3)(23,"ion-select",9),e.NdJ("ionChange",function(p){return a.chooseCarType(p)}),e.YNc(24,Z,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(25,"ion-item",3),e._UZ(26,"ion-input",11),e.qZA()()(),e.TgZ(27,"ion-list",12)(28,"ion-list-header")(29,"ion-label",2)(30,"h1"),e._uU(31,"Documents"),e.qZA()()(),e.TgZ(32,"ion-item")(33,"div",13)(34,"ion-avatar",14),e.NdJ("click",function(){return a.changeImage()}),e.YNc(35,P,1,1,"img",15),e.YNc(36,_,3,0,"ng-template",null,16,e.W1O),e.qZA()(),e.TgZ(38,"div",17)(39,"ion-avatar",14),e.NdJ("click",function(){return a.changeLicense()}),e.YNc(40,x,1,1,"img",15),e.YNc(41,C,3,0,"ng-template",null,16,e.W1O),e.qZA()()()(),e.TgZ(43,"ion-button",18),e.NdJ("click",function(){return a.signIn()}),e.YNc(44,T,2,0,"ion-label",19),e.YNc(45,U,1,0,"ion-icon",20),e.YNc(46,D,1,0,"ion-progress-bar",21),e.qZA()()()()),2&t){const s=e.MAs(37);e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(20),e.s9C("placeholder",a.selected),e.Q6J("value",a.selected),e.xp6(1),e.Q6J("ngForOf",a.cartypes),e.xp6(11),e.Q6J("ngIf",a.profileImage)("ngIfElse",s),e.xp6(5),e.Q6J("ngIf",a.licenseImage)("ngIfElse",s),e.xp6(3),e.Q6J("disabled",!a.form.valid),e.xp6(1),e.Q6J("ngIf",!a.approve2),e.xp6(1),e.Q6J("ngIf",!a.approve2),e.xp6(1),e.Q6J("ngIf",a.approve2)}},dependencies:[m.sg,m.O5,i._Y,i.JJ,i.JL,i.wO,i.nD,o.BJ,o.YG,o.W2,o.gu,o.pK,o.Ie,o.Ub,o.Q$,o.q_,o.yh,o.X7,o.t9,o.n0,o.QI,o.j9,i.sg,i.u],styles:["ion-img[_ngcontent-%COMP%]{margin:auto;width:auto}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px}.preview[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:center}.fallback[_ngcontent-%COMP%]{width:128px;height:128px;border-radius:50%;background:#bfbfbf;display:flex;justify-content:center;align-items:center;font-weight:500}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(N),u.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,i.u5,o.Pc,i.UX,A]}),n})()}}]);